\section{Thống kê suy diễn}


% 
% Bài toán 2 mẫu 
%

\subsection{Bài toán 1 mẫu.}

Ngày nay VRam hay Memory trong các bộ xử lý đồ hoạ GPU là một trong những yếu tố quan trọng quyết định hiệu năng của GPU. Có một người dùng cho rằng băng thông bộ nhớ băng thông trung bình của các GPU lớn hơn 2GB. Hãy kiểm định xem ý kiến của người dùng đó có đúng không với mức ý nghĩa 5\%.

\subsubsection{Mục đích kiểm định.}
Đánh giá xem kích thước bộ nhớ trung bình (Memory) của các GPU có lớn hơn 2GB hay không.
\subsubsection{Giả thiết nghiên cứu.}
\begin{itemize}
    \item $H_0$: $\mu \le 2$. Trung bình kích thước bộ nhớ của các GPU \textbf{không lớn hơn} 2GB.
    \item $H_1$: $\mu > 2.$ Trung bình kích thước bộ nhớ của các GPU \textbf{lớn hơn} 2GB.
\end{itemize}

\subsubsection{Thực hiện kiểm định.}
\textbf{Bước 1:} Tính các đặc điểm thống kê mẫu.
\begin{lstlisting}[language=R, caption={Tính các đặc điểm thống kê mẫu trong R}, captionpos=b]
Mem <- main_df$Memory
n  <- length(Mem)
tb <- mean(Mem)
s  <- sd(Mem)
\end{lstlisting}

\underline{\textbf{Kết quả:}}

% \begin{center}
%     \begin{tcolorbox}[fontupper=\footnotesize]
%         \begin{verbatim}
% > print(mem_df)
%      n       tb        s
% 1 2188 2624.234 1916.352
%     \end{verbatim}
%     \end{tcolorbox}
% \end{center}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.5\linewidth]{graphics/5_1mau.png}
    \caption{Bảng kết quả các đặc điểm thống kê mẫu}
    \label{fig:bang_ket_qua_1mau}
\end{figure}

\textbf{Bước 2:} Kiểm tra phân phối chuẩn của mẫu bằng kiểm định Q-Q plot.
\begin{figure}[H]
    \centering
    \includegraphics[width=0.5\linewidth]{graphics/5_1mauqq.png}
    \caption{Đồ thị Q-Q plot cho mẫu}
    \label{fig:shapiro_1mau}
\end{figure}
\underline{\textbf{Nhận xét:}} có thể thấy rằng mẫu không tuân theo phân phối chuẩn và phân bố theo một vài giá trị cụ thể. Như vậy bài toán trên là kiểm định 1 mẫu với phân phối tuỳ ý và $n>30$.

\textbf{Bước 3:} Thực hiện kiểm định giả thiết.

Xác định mức ý nghĩa $\alpha = 0.05$. Suy ra miền bác bỏ RR $= (Z_{\alpha/2}, +\infty) = (1.644854, +\infty)$.
Tìm tiêu chuẩn kiểm định:
\begin{equation*}
    Z_{\text{qs}} = \dfrac{(\bar{X} - \mu_0)}{\dfrac{S}{\sqrt{n}}}=\dfrac{2624.234-2048}{\dfrac{1916.352}{\sqrt{2188}}} \approx 14.0652.
\end{equation*}
Tìm các giá trị trong R:
\begin{lstlisting}[language=R, caption={Tính giá trị Z\_qs trong R}, captionpos=b]
z0 <- (tb - 2048)/(s/sqrt(n))   
alpha = 0.05
RR <- qnorm(p = 1 - alpha)
            \end{lstlisting}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.2\linewidth]{graphics/1mau_res.png}
    \caption{Kết quả tính giá trị Z\_qs trong R}
    \label{fig:kq_zqs_1mau}
\end{figure}
% \begin{center}
%     \begin{tcolorbox}[fontupper=\footnotesize]
%         \begin{verbatim}
%     > z0
%     [1] 14.06524
%     > RR
%     [1] 1.644854
%         \end{verbatim}
%     \end{tcolorbox}
% \end{center}
\underline{\textbf{Kết luận:}} Vì $Z_{\text{qs}} = 14.06524 \in RR$, nên ta bác bỏ giả thiết không $H_0$ và chấp nhận giả thiết đối $H_1$. Kết luận rằng trung bình kích thước bộ nhớ của các GPU lớn hơn 2GB với mức ý nghĩa 5\%.

\subsection{Bài toán 2 mẫu.}

Băng thông bộ nhớ (Memory Bandwidth) là thông số quan trọng ảnh hưởng đến hiệu năng của bộ xử lý đồ hoạ GPU. Trên thị trường Việt Nam hiện nay có hai hãng là kỳ phùng địch thủ của nhau là Nvidia và AMD và cũng có nhiều cuộc tranh cãi, so sánh hiệu năng GPU của hai hãng này. Có một người dùng cho rằng băng thông bộ nhớ trung bình của Nvidia lớn hơn so với băng thông trung bình của AMD. Hãy kiểm định xem ý kiến của người dùng đó có đúng không với mức ý nghĩa 5\%.
\subsubsection{Mục đích kiểm định.}

Đánh giá xem băng thông bộ nhớ trung bình (Memory Bandwidth) của Nvidia có lớn hơn băng thông bộ nhớ trung bình của AMD hay không.

\subsubsection{Giả thiết nghiên cứu.}
\begin{itemize}
    \item $H_0$: $\mu_1 \le \mu_2$. Trung bình băng thông bộ nhớ của Nvidia \textbf{không lớn hơn} trung bình băng thông bộ nhớ của AMD.
    \item $H_1$: $\mu_1 > \mu_2$. Trung bình băng thông bộ nhớ của Nvidia \textbf{lớn hơn} trung bình băng thông bộ nhớ của AMD.
\end{itemize}

\subsubsection{Thực hiện kiểm định.}

\textbf{Bước 1:} Chia dữ liệu thành 2 nhóm và tính các đặc điểm thống kê mẫu cho từng nhóm.
\begin{lstlisting}[language=R, caption={Tính các đặc điểm thống kê mẫu cho từng nhóm trong R}, captionpos=b]
nvidia <- subset(main_df, Manufacturer == "Nvidia")$Memory_Bandwidth
amd   <- subset(main_df, Manufacturer == "AMD")$Memory_Bandwidth

# Lay n s trung binh cua du lieu
n1 <- length(nvidia)
n2 <- length(amd)

sd1<- sd(nvidia)
sd2<- sd(amd)

tb1<- mean(nvidia)
tb2<- mean(amd)

bang_ket_qua <- data.frame(
  "Nhom" = c(1, 2),
  "n"    = c(n1, n2),
  "tb"  = c(tb1, tb2),
  "sd"   = c(sd1, sd2)
)
print(bang_ket_qua)
            \end{lstlisting}

\underline{\textbf{Kết quả:}}
\begin{figure}[H]
    \centering
    \includegraphics[width=0.5\linewidth]{graphics/5_2table.png}
    \caption{Bảng kết quả các đặc điểm thống kê mẫu cho từng nhóm}
    \label{fig:bang_ket_qua}
\end{figure}

\textbf{Bước 2:} Kiểm tra phân phối chuẩn của hai mẫu bằng Q-Q plot.
\begin{figure}[H]
    \centering
    \includegraphics[width=0.6\linewidth]{graphics/2plot.png}
    \caption{Đồ thị Q-Q plot cho hai mẫu}
    \label{fig:shapiro_2mau}
\end{figure}

\underline{\textbf{Nhận xét:}} có thể thấy rằng cả hai mẫu đều không tuân theo phân phối chuẩn vì và có xu hướng lệch ở hai đầu. Như vậy bài toán ở đây là kiểm định 2 mẫu độc lập với phân phối tuỳ ý, $n_1>30$ và $n_2>30$.

\textbf{Bước 3:} Thực hiện kiểm định giả thiết.

Xác định mức ý nghĩa $\alpha = 0.05$. Suy ra miền bác bỏ RR $= (Z_{\alpha/2}, +\infty) = (1.644854, +\infty)$.

Tìm tiêu chuẩn kiểm định:
\begin{equation*}
    Z_{\text{qs}} = \dfrac{(\bar{X_1} - \bar{X_2})}{\sqrt{\dfrac{S_1^2}{n_1} + \dfrac{S_2^2}{n_2}}}=\dfrac{137.0224-126.2513}{\sqrt{\dfrac{137.0224}{1236} + \dfrac{126.2513}{876}}} \approx 2.7344
\end{equation*}

Tìm các giá trị trong R:
\begin{lstlisting}[language=R, caption={Tính giá trị Z\_qs trong R}, captionpos=b]
z0 <- (tb1-tb2)/sqrt(s1^2/n1 + s2^2/n2)
alpha = 0.05
RR <- qnorm(p = 1 - alpha)
            \end{lstlisting}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.3\linewidth]{graphics/5_1z.png}
    \caption{Kết quả tính giá trị Z\_qs trong R}
    \label{fig:kq_zqs}
\end{figure}
\underline{\textbf{Kết luận:}} Vì $Z_{\text{qs}} = 2.7344 \in RR$, nên ta bác bỏ giả thiết không $H_0$ và chấp nhận giả thiết đối $H_1$. Kết luận rằng trung bình băng thông bộ nhớ của Nvidia lớn hơn trung bình băng thông bộ nhớ của AMD với mức ý nghĩa 5\%.





% 
% Phân tích phương sai (ANOVA) một yếu tố về ảnh hưởng của nhà sản xuất đến băng thông bộ nhớ
% 

\newpage
\subsection{Phân tích phương sai (ANOVA) một yếu tố về ảnh hưởng của nhà sản xuất đến băng thông bộ nhớ}

\subsubsection{Mục đích kiểm định.}

Phân tích One-way ANOVA nhằm đánh giá: Băng thông bộ nhớ (Memory\_Bandwidth) có sự khác biệt về trung bình giữa các hãng sản xuất GPU hay không?

\textbf{Các hãng trong dữ liệu:} AMD, ATI và NVIDIA.

\subsubsection{Giả thiết nghiên cứu.}

\begin{itemize}
    \item $H_0$: $\mu_1 = \mu_2 = \mu_3$. Trung bình băng thông bộ nhớ giữa các hãng sản xuất \textbf{là bằng nhau}.
    \item $H_1$:  $\exists i,j (i \neq j), \mu_i \neq \mu_j$. Có \textbf{ít nhất hai hãng sản xuất} có trung bình băng thông bộ nhớ \textbf{khác nhau}.
\end{itemize}

\subsubsection{Kiểm tra giả định thống kê của ANOVA một yếu tố.}

Đặt cặp giả thiết thống kê:

\begin{itemize}
    \item Các quan sát độc lập.
    \item Phân phối chuẩn.
    \item Phương sai giữa các nhóm đồng nhất.
\end{itemize}

\subsubsection{Xây dựng mô hình ANOVA một yếu tố trong R.
}

\textbf{Bước 1:} Xây dựng mô hình ANOVA.

Ta có thể dùng lệnh:

\begin{lstlisting}[language=R, caption={Xây dựng mô hình ANOVA một yếu tố trong R}, captionpos=b]
    anova_model <- aov(Memory_Bandwidth ~ Manufacturer, data = main_df)
    \end{lstlisting}

\textbf{Bước 2:} Kiểm tra các giả định thống kê.

\begin{itemize}
    \item \textbf{Tính độc lập:} vì dữ liệu được thu thập từ các mẫu GPU khác nhau nên ta có thể coi các quan sát là độc lập.
    \item \textbf{Phân phối chuẩn:} Ta sử Shapiro-Test và biểu đồ Q-Q plot để kiểm tra giả định phân phối chuẩn của phần dư.

          \textbf{Kiểm định chuẩn hóa phần dư.}
          \begin{align}
              H_0 & : \text{Phần dư tuân theo phân phối chuẩn.} \nonumber       \\
              H_1 & : \text{Phần dư không tuân theo phân phối chuẩn.} \nonumber
          \end{align}

          \begin{lstlisting}[language=R, caption={Kiểm định Shapiro-Wilk cho phần dư của mô hình ANOVA.}, captionpos=b]    
res <- residuals(anova_model) 
shapiro.test(res) 			    
\end{lstlisting}

          Kết quả của \verb|shapiro.test()| cho phần dư trả về được thể hiện trong hình \ref{fig:shapiro_test}, dễ dàng, ta có thể nhận thấy rằng $\text{p\_value} = 2.2\text{e}-16 << 0.05$, do đó ta bác bỏ giả thiết không $H_0$ và thừa nhận giả thiết đối $H_1$. Kết luận rằng phần dư không tuân theo phân phối chuẩn. Và từ đó khẳng định biến phụ thuộc (Memory\_Bandwidth) không tuân theo phân phối chuẩn.
          \begin{figure}[H]
              \centering
              \includegraphics[width=0.6\linewidth]{graphics/5_5shapiro_test.png}
              \caption{Kết quả kiểm định Shapiro-Wilk cho phần dư của mô hình ANOVA}
              \label{fig:shapiro_test}
          \end{figure}

          Để trực quan hơn, ta có thể sử dụng biểu đồ Q-Q plot để kiểm tra giả định phân phối chuẩn của phần dư như sau:
          \begin{lstlisting}[language=R, caption={Biểu đồ Q-Q plot cho phần dư của mô hình ANOVA}, captionpos=b]
qqnorm(res)
qqline(res)
\end{lstlisting}

          Kết quả được thể hiện ở hình \ref{fig:qq_plot}. Ta có thể thấy rằng các điểm dữ liệu không nằm dọc theo đường thẳng, điều này cho thấy phần dư không tuân theo phân phối chuẩn. Và có xu hướng lệch ở 2 đầu.
          \begin{figure}[H]
              \centering
              \includegraphics[width=0.5\linewidth]{graphics/5_5qqplot.png}
              \caption{Biểu đồ Q-Q plot cho phần dư của mô hình ANOVA}
              \label{fig:qq_plot}
          \end{figure}

          Từ 2 phép kiểm định trên, ta chắc chắn kết luận được rằng Memory\_Bandwidth không tuân theo phân phối chuẩn.

          Bên cạnh đó nếu từng nhóm con (theo từng hãng sản xuất) đều tuân theo phân phối chuẩn thì ta có thể sử dụng kiểm định ANOVA một yếu tố. Do đó ta sẽ kiểm tra giả định phân phối chuẩn cho từng nhóm con.
          \begin{figure}[H]
              \centering
              \includegraphics[width=0.6\linewidth]{graphics/qqline_tunghang.png}
              \caption{Biểu đồ Q-Q plot cho từng nhóm con của mô hình ANOVA}
              \label{fig:qq_group}
          \end{figure}

          Dễ dàng nhận thấy ở hình \ref{fig:qq_group} rằng cả 3 nhóm con đều không tuân theo phân phối chuẩn. Do đó mô hình ANOVA một yếu tố không phù hợp để phân tích dữ liệu này.

    \item \textbf{Phương sai đồng nhất:} Ta sử dụng kiểm định Levene để kiểm tra giả định phương sai đồng nhất.
          \begin{align*}
              H_0 & : \sigma_1^2 = \sigma_2^2 = \sigma_3^2.~\text{Phương sai giữa các nhóm là đồng nhất.}                  \\
              H_1 & : \exists i,j (i \neq j), \sigma_i^2 \neq \sigma_j^2.~\text{Phương sai giữa các nhóm không đồng nhất.}
          \end{align*}

          Ta có thể sử dụng lệnh sau trong R để thực hiện kiểm định Levene:
          \begin{lstlisting}[language=R, caption={Kiểm định Levene cho phương sai đồng nhất}, captionpos=b]
            leveneTest(Memory_Bandwidth~ Manufacturer, data = main_df)
        \end{lstlisting}

          Ta thu được kết quả kiểm định Levene được thể hiện trong hình \ref{fig:levene_test}. Ta thấy rằng $\text{p\_value} = 2.005\text{e}-6 << 0.05$, do đó ta bác bỏ giả thiết không $H_0$ và chấp nhận giả thiết đối $H_1$. Kết luận rằng phương sai giữa các nhóm không đồng nhất.
          \begin{figure}[H]
              \centering
              \includegraphics[width=0.6\linewidth]{graphics/5_5levene.png}
              \caption{Kết quả kiểm định Levene cho phương sai đồng nhất}
              \label{fig:levene_test}
          \end{figure}
          \textbf{Nhận xét}: Từ kết quả kiểm tra các giả định thống kê, ta thấy rằng cả hai giả định về phân phối chuẩn và phương sai đồng nhất đều không được thỏa mãn, do đó mô hình ANOVA một yếu tố không phù hợp để phân tích dữ liệu này.
\end{itemize}
\textbf{Bước 3:} Kiểm tra giả thiết thống kê.

Ta sử đụng lệnh \verb|summary()| để in ra bảng ANOVA.

\begin{lstlisting}[language=R, caption={Bảng ANOVA một yếu tố trong R}, captionpos=b]
summary(anova_model)
        \end{lstlisting}

Kết quả bảng ANOVA được thể hiện trong hình \ref{fig:anova_table}. Ta thấy rằng $\text{p\_value} = 1.51\text{e}-12 << 0.05$, do đó ta bác bỏ giả thiết không $H_0$ và chấp nhận giả thiết đối $H_1$. Kết luận rằng có ít nhất hai hãng sản xuất có trung bình băng thông bộ nhớ khác nhau.
\begin{figure}[H]
    \centering
    \includegraphics[width=0.6\linewidth]{graphics/5_5anovatable.png}
    \caption{Bảng ANOVA một yếu tố trong R}
    \label{fig:anova_table}
\end{figure}
\textbf{Bước 4:} So sánh hậu nghiệm (Tukey HSD).

Do mô hình ANOVA chỉ dùng để kiểm tra xem có sự khác biệt về trung bình giữa các nhóm hay không, mà không chỉ ra được cụ thể nhóm nào khác biệt, nên ta cần thực hiện so sánh hậu nghiệm để biết những hàng nào khác nhau có ý nghĩa thống kê.

Ta sử dụng lệnh \verb|TukeyHSD()| trong R để thực hiện so sánh hậu nghiệm như sau:
\begin{lstlisting}[language=R, caption={So sánh hậu nghiệm Tukey HSD trong R}, captionpos=b]
tukey_result <- TukeyHSD(anova_model)
\end{lstlisting}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.8\linewidth]{graphics/5_5tukey.png}
    \caption{Kết quả so sánh hậu nghiệm Tukey HSD trong R}
    \label{fig:tukey_hsd}
\end{figure}

\textbf{Nhận xét:} kết quả so sánh hậu nghiệm Tukey HSD được thể hiện trong hình \ref{fig:tukey_hsd}. Ta có thể thấy rằng tất cả các hãng đang xét đều có sự khác biệt về băng thông bộ nhớ trung bình. Đối với ATI-AMD thì ATI có băng thông bộ nhớ trung bình cao hơn AMD với mức ý nghĩa 5\% vì p\_value $= 0.0000000 < 0.05$. Tương tự ta có thể nhận xét cho các cặp so sánh khác. NVIDIA cũng có băng thông trung bình lớn hơn AMD tuy nhiên lại thấp hơn so với ATI.

\subsubsection{Nhận xét về mô hình ANOVA một yếu tố.}

Từ kết quả kiểm tra các giả định thống kê, ta thấy rằng cả hai giả định về phân phối chuẩn và phương sai đồng nhất đều không được thỏa mãn, do đó mô hình ANOVA một yếu tố không phù hợp để phân tích dữ liệu này. Điều đó khiến nhóm phải thực hiện thêm các kiểm định ANOVA khác trong phần mở rộng.Tuy nhiên, kết quả kiểm định ANOVA và so sánh hậu nghiệm Tukey HSD vẫn cho thấy có sự khác biệt về trung bình băng thông bộ nhớ giữa các hãng sản xuất GPU.

\newpage
\subsection{Áp dụng mô hình hồi quy tuyến tính bội vào phân tích hiệu suất GPU.}

\subsubsection{Xây dựng mô hình.}
\begin{itemize}
    \item Việc chia dữ liệu thành hai phần (train và test) là cần thiết để tránh overfitting (hiện tượng mô hình học quá kỹ dữ liệu được cung cấp, đến mức nó ghi nhớ dữ liệu thay vì suy ra các quy luật tổng quát). Để đảm bảo mô hình có được khả năng tổng quát hóa tốt, ta chia bộ dữ liệu thành: training\_set chiếm 80\% và testing\_set chiếm 20\% . Với 2188 mẫu dữ liệu, tỷ lệ này đảm bảo training\_set có đủ dữ liệu để mô hình học hỏi các đặc trưng phức tạp, đồng thời testing\_set vẫn có kích thước đủ lớn (436 mẫu) để đánh giá một cách đáng tin cậy hiệu suất thực tế của mô hình.
    \item Để đánh giá và phân tích quan hệ giữa các thông số của GPU, ta chọn:
          \begin{itemize}
              \item Biến phụ thuộc: Memory\_Bandwidth
              \item Biến độc lập: Process, Memory, Memory\_Speed,  Memory\_Bus, L2\_Cache.
          \end{itemize}
          \indent Lúc này, \textbf{mô hình có dạng:}
          \begin{equation*}
              \begin{split}
                  \text{Memory\_Bandwidth} = & \beta_0 + \beta_1\text{Process} + \beta_2\text{Memory} + \beta_3\text{Memory\_Speed} \\
                                             & + \beta_4\text{Memory\_Bus} + \beta_5\text{L2\_Cache} + \epsilon
              \end{split}
          \end{equation*}
          \begin{lstlisting}[language=R, caption={Xây dựng mô hình hồi quy tuyến tính bội trong R}, captionpos=b]
library(caret)
# co dinh cach chon cac dong ngau nhie
set.seed(111)
# chon du lieu de train voi bien muc tieu 'Memory_Bandwidth'
train_index <- createDataPartition(main_df$Memory_Bandwidth, p = 0.8, 
list = FALSE)
# tao training_set bang cac dong duoc chon
training_set <- main_df[train_index, ]
# tao testing_set bang cac dong con lai
testing_set <- main_df[-train_index, ]
# tao mo hinh hoi quy tuyen tinh
model<-lm(Memory_Bandwidth ~ Process + Memory + Memory_Speed + Memory_Bus + L2_Cache, training_set)
summary((model))
\end{lstlisting}
    \item \underline{\textbf{Kết quả sau khi chạy trên R:}}
          \begin{figure} [H]
              \centering
              \includegraphics[width=0.7\linewidth]{graphics/KQ1.png}
              \caption{Kết quả của mô hình hồi quy tuyến tính}
              \label{fig:kq1_hqtt}
          \end{figure}

          Sau khi xây dựng mô hình hồi quy tuyến tính bội, ta thu được kết quả như hình \ref{fig:kq1_hqtt}. Từ kết quả vừa thu được ta sẽ dùng nó dự đoán giá trị Memory\_Bandwidth trên tập dữ liệu kiểm tra (testing\_set) và so sánh với giá trị thực tế để đánh giá hiệu suất của mô hình.


          \begin{figure}[H]
              \centering
              \includegraphics[width=0.7\linewidth]{graphics/6_1org.png}
              \caption{Đồ thị giữa giá trị thực tế và dự đoán của Memory\_Bandwidth (mô hình gốc)}
              \label{fig:kq2_hqtt}
          \end{figure}

          \begin{figure}[H]
              \centering
              \includegraphics[width=0.5\linewidth]{graphics/rmse_org.png}
              \caption{RMSE và RR của mô hình gốc trên tập testing\_set}
              \label{fig:error_hqtt}
          \end{figure}

    \item \textbf{\underline{Nhận xét:}}
          \begin{itemize}
              \item Hệ số Multiple R-squared có giá trị là 0.8419. Điều này có nghĩa là 84.19\% sự biến thiên của biến phụ thuộc Memory\_Bandwidth có thể được giải thích bởi sự thay đổi của 5 biến độc lập trong mô hình. Ngoài ra, Hệ số Adjusted R-squared có giá trị là 0.8414 (rất gần với Multiple R-squared). Như vậy, mô hình hoạt động khá hiệu quả và không có biến nào bị đưa vào một cách không cần thiết.
              \item Tất cả các biến dự đoán đều có p-values rất nhỏ ($\ll 0.05$) ngoại trừ biến Process. Điều này khẳng định rằng các biến Memory, Memory\_Speed, Memory\_Bus và L2\_Cache đều có ảnh hưởng đáng kể đến biến phụ thuộc Memory\_Bandwidth trong khi biến Process không có ảnh hưởng đáng kể. Điều này dẫn ta đến khả năng có thể cải thiện mô hình ở phần sau.
              \item Chỉ số Residual Standard Error (RSE) là 35.73. Đây là độ lệch chuẩn của Memory\_Bandwidth thực tế so với dự đoán.
              \item Các hệ số ước lượng $\beta_i$ có giá trị như sau: $\widehat{\beta_0} = -110.1$, $\widehat{\beta_1} = -0.294$, $\widehat{\beta_2} = 0.0104$, $\widehat{\beta_3} = 0.0881$, $\widehat{\beta_4} = 0.607$, $\widehat{\beta_5} = -0.0063$.
              \item Mô hình dự đoán được tương đối giá trị Memory\_Bandwidth khi so sánh với giá trị thực tế, tuy nhiên vẫn có sự sai lệch nhất định (hình \ref{fig:kq2_hqtt}), đặc biệt có thể thấy rõ khi dự đoán các giá trị thấp hơn 50. Trong khi đó các giá trị lớn hơn 50 thì mô hình dự đoán khá chính xác.
          \end{itemize}
    \item \underline{\textbf{Kết luận:}} Đường thẳng hồi quy ước lượng của mô hình:
          \begin{equation*}
              \begin{split}
                  \text{Memory\_Bandwidth} = & -110.1 - 0.294 \cdot \text{Process} + 0.0104 \cdot \text{Memory}     \\
                                             & + 0.0881 \cdot \text{Memory\_Speed} + 0.607 \cdot \text{Memory\_Bus} \\
                                             & - 0.0063 \cdot \text{L2\_Cache}
              \end{split}
          \end{equation*}
\end{itemize}

\subsubsection{Kiểm tra giả định của mô hình hồi quy.}

\begin{itemize}
    \item \textbf{Kỳ vọng bằng 0.}

          {Ta dùng mô hình chẩn đoán Residuals-Fitted để kiểm tra bằng lệnh:
              \begin{lstlisting}[language=R, caption={Vẽ đồ thị Residuals-Fitted trong R}, captionpos=b]
                plot(model, which=1) # Residuals vs Fitted
            \end{lstlisting}
              \underline{\textbf{Kết quả:}}
              \begin{figure} [H]
                  \centering
                  \includegraphics[width=0.6\linewidth]{graphics/ResidualsvsFitted.png}
                  \caption{Biểu đồ Residuals vs Fitted}
                  \label{fig:mh1_hqtt}
              \end{figure}
              \underline{\textbf{Nhận xét:}} Đường xu hướng (màu đỏ) nhìn chung tương đối phẳng và gần như trùng với đường $y = 0$ . Như vậy, mô hình chỉ có thể tương đối thỏa mãn được tính chất kỳ vọng bằng 0.}
    \item \textbf{Sai số có phân phối chuẩn.}

          {Ta có thể sử dụng biểu đồ Q-Q plot để kiểm tra giả định phân phối chuẩn của phần dư như sau:
              \begin{lstlisting}[language=R, caption={Biểu đồ Q-Q plot cho phần dư của mô hình hồi quy tuyến tính}, captionpos=b]
plot(model, which=2) 
              \end{lstlisting}
              \newpage
              \underline{\textbf{Kết quả:}}
              \begin{figure} [H]
                  \centering
                  \includegraphics[width=0.6\linewidth]{graphics/Q_Q.png}
                  \caption{Biểu đồ Q-Q}
                  \label{fig:mh2_hqtt}
              \end{figure}
              Để chắc chắn hơn, ta dùng kiểm định Shapiro-Wilk để kiểm tra:
              \begin{figure}[H]
                  \centering
                  \includegraphics[width=0.6\linewidth]{graphics/hqtt_shapiro.png}
                  \caption{Kết quả kiểm định Shapiro-Wilk cho sai số của mô hình}
                  \label{fig:shapiro_wilk_hqtt}
              \end{figure}
              \underline{\textbf{Nhận xét:}} Biểu đồ Q-Q cho thấy phần lớn các điểm nằm sát đường chéo nên sai số của mô hình gần như là có phân phối chuẩn, đặc biệt là ở vùng trung tâm. Tuy nhiên, phần đuôi của đồ thị lại có xu hướng lệch lên so với đường tham chiếu. Shapiro-Wilk test cũng cho thấy p-value rất nhỏ (2.2e-16), điều này cho thấy sai số không hoàn toàn tuân theo phân phối chuẩn.}
    \item \textbf{Phương sai đồng nhất.}


          {Ta dùng mô hình chẩn đoán Scale-Location để kiểm tra bằng lệnh:
          \begin{lstlisting}[language=R, caption={Vẽ đồ thị Scale-Location trong R}, captionpos=b]          
plot(model, which=3) # Scale-Location
            \end{lstlisting}
          \textbf{\underline{Kết quả:}}
          \begin{figure} [H]
              \centering
              \includegraphics[width=0.5\linewidth]{graphics/Scale_Location.png}
              \caption{Biểu đồ Scale-Location}
              \label{fig:mh3_hqtt}
          \end{figure}
          \underline{\textbf{Nhận xét:}} Đường xu hướng (màu đỏ) có xu hướng lõm ở giữa, các điểm phân bố rất rộng và không đều,cho thấy rằng phương sai của sai số không đồng nhất.
    \item {\textbf{Tính độc lập của sai số.}}

          Ta dùng kiểm định Durbin-Watson để kiểm tra tính chất này:
          \begin{lstlisting}[language=R, caption={Kiểm định Durbin-Watson trong R}, captionpos=b]
durbinWatsonTest(model) #Kiem tra tinh doc lap cua sai so
            \end{lstlisting}
          \textbf{\underline{Kết quả:}}
          \begin{center}
              \begin{tcolorbox}
                  \begin{verbatim}
> durbinWatsonTest(model)
 lag Autocorrelation D-W Statistic p-value
   1       0.2821306      1.435692       0
 Alternative hypothesis: rho != 0
                    \end{verbatim}
              \end{tcolorbox}
          \end{center}
          \underline{\textbf{Nhận xét:}} Mô hình có hệ số Autocorrelation (tự tương quan) là tương đối lớn (0.282) và p-value bằng 0. Do đó, mô hình vi phạm tính độc lập của sai số..
          }
    \item \textbf{Kiểm tra đa cộng tuyến.}

          Để kiểm tra tính đa cộng tuyến giữa các biến độc lập trong mô hình, ta sử dụng hệ số phóng đại phương sai (Variance Inflation Factor - VIF). Hệ số VIF đo lường mức độ mà phương sai của các ước lượng hồi quy bị phóng đại do sự đa cộng tuyến giữa các biến độc lập. Trong RStudio, ta có thể sử dụng hàm \verb|vif()| từ gói \verb|car| để tính hệ số VIF cho từng biến độc lập trong mô hình hồi quy tuyến tính.

          \begin{tcolorbox}
              \begin{verbatim}
library(car)
vif(model) #Kiểm tra đa cộng tuyến
                        \end{verbatim}
          \end{tcolorbox}
          \underline{\textbf{Kết quả:}}
          \begin{tcolorbox}
              \begin{verbatim}
> vif(model)
     Process       Memory Memory_Speed   Memory_Bus     L2_Cache 
    2.865039     1.882054     2.893043     1.353820     1.569410 
                    \end{verbatim}
          \end{tcolorbox}
          \underline{\textbf{Nhận xét:}} Có thể thấy, hầu hết các biến có chỉ số VIF tuyến ở mức thấp. Như vậy, mô hình có tính ổn định cao về mặt đa cộng tuyến.
    \item \textbf{Kiểm tra các điểm ngoại lai.}
          \begin{lstlisting}[language=R, caption={Vẽ đồ thị Cook's Distance trong R}, captionpos=b]
plot(model, which=5) # Cook's Distance
            \end{lstlisting}
          \textbf{\underline{Kết quả:}}
          \begin{figure} [H]
              \centering
              \includegraphics[width=0.5\linewidth]{graphics/cook_distance.png}
              \caption{Biểu đồ Cook's Distance}
              \label{fig:mh4_hqtt}
          \end{figure}
          %   \underline{\textbf{Nhận xét:}} Từ biểu đồ Cook's Distance, ta thấy rằng không có điểm dữ liệu nào vượt quá ngưỡng cảnh báo (thường là 4/n hoặc 1). Do đó, mô hình không có điểm ngoại lai đáng kể ảnh hưởng đến kết quả hồi quy.
          \underline{\textbf{Nhận xét:}} Trong biểu đồ này, những điểm ngoại lai (có ảnh hưởng lớn đến mô hình) là những điểm nằm ngoài Cook's distance. Có thể thấy, không có điểm nào nằm ngoài vùng này, vì vậy mô hình không có điểm ngoại lai.
\end{itemize}



\subsubsection{Nhận xét về mô hình hồi quy tuyến tính.}

Mô hình hồi quy tuyến tính được xây dựng nhìn chung có thể thỏa mãn tương đối một số giả định quan trọng nhưng cũng tồn tại nhiều hạn chế vì cơ bản nó vi phạm một số giả định như: sai số không có phân phối chuẩn, phương sai sai số không đồng nhất và sai số không độc lập. Điều này có thể ảnh hưởng đến độ tin cậy của các ước lượng hệ số hồi quy và các kiểm định giả thuyết liên quan. Tuy nhiên, mô hình vẫn cho thấy khả năng giải thích tốt sự biến thiên của biến phụ thuộc Memory\_Bandwidth thông qua các biến độc lập được chọn.